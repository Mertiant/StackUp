<!DOCTYPE html>
<html>
<body>

<p>Click the button to get your coordinates.</p>

<p id="demo"></p>

<script>
var x = document.getElementById("demo");
var latitude;
var longitude;
var response;

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
	latitude = position.coords.latitude;
	longitude = position.coords.longitude;
    x.innerHTML = "Latitude: " + latitude + 
    "<br>Longitude: " + longitude;
}
getLocation();
</script>

<script>
function getWeatherInfo(){
    var latitude = 30;
    var longtitude = 100;
	var xmlHttp = new XMLHttpRequest();
	var baseUrl = 'api.openweathermap.org/data/2.5/';
	var data = 'weather?lat='+ latitude + '&lon=' + longitude + '&appid=f2c22e03c57c5693407f724da31d21ba';
       alert(xmlHttp.status);

	//xmlHttp.open('GET', baseUrl+data; true);
   // xmlHttp.send();
   // alert(xmlHttp.status);
    xmlHttp.onreadystatechange = function() {
        if (xmlHttp.readyState == 4) {
            var response = xhr.responseText;
            alert(response);
        }
        if (xmlHttp.status == 0) {
            alert('.....');
        }
    }
}

getWeatherInfo();
</script>

</body>
</html>